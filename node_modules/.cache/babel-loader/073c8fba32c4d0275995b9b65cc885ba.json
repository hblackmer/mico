{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cleanProps from 'clean-react-props';\n\nvar TimerWrapper = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TimerWrapper, _Component);\n\n  function TimerWrapper(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      duration: props.duration,\n      startTime: props.active ? Date.now() - props.time : null,\n      time: props.time\n    };\n    _this.tick = _this.tick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TimerWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$state = this.state,\n        duration = _this$state.duration,\n        startTime = _this$state.startTime,\n        time = _this$state.time;\n    var _this$props = this.props,\n        active = _this$props.active,\n        onStart = _this$props.onStart;\n\n    if (active) {\n      onStart({\n        duration: duration,\n        progress: this.getProgress(time),\n        time: time\n      });\n      this.animationFrame = requestAnimationFrame(this.tick);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        active = _this$props2.active,\n        duration = _this$props2.duration,\n        time = _this$props2.time,\n        onStart = _this$props2.onStart,\n        onStop = _this$props2.onStop;\n\n    if (prevProps.active === active && prevProps.time !== time && time !== this.state.time) {\n      var timeDiff = this.state.time - time;\n      this.setState({\n        startTime: this.state.startTime + timeDiff,\n        time: this.state.time + timeDiff\n      });\n      return;\n    }\n\n    if (prevProps.active !== active) {\n      switch (active) {\n        case true:\n          var nextTime = duration !== null && this.state.time >= duration ? 0 : this.state.time;\n          this.setState({\n            startTime: Date.now() - nextTime,\n            time: nextTime\n          }, function () {\n            onStart({\n              duration: duration,\n              progress: _this2.getProgress(nextTime),\n              time: nextTime\n            });\n            _this2.animationFrame = requestAnimationFrame(_this2.tick);\n          });\n          break;\n\n        case false:\n          cancelAnimationFrame(this.animationFrame);\n          onStop({\n            duration: duration,\n            progress: this.getProgress(this.state.time),\n            time: this.state.time\n          });\n          break;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    cancelAnimationFrame(this.animationFrame);\n  };\n\n  _proto.getProgress = function getProgress(time) {\n    var duration = this.state.duration;\n\n    if (!duration) {\n      return 0;\n    }\n\n    return Math.max(0, Math.min(1, time / duration));\n  };\n\n  _proto.tick = function tick() {\n    var _this3 = this;\n\n    var _this$props3 = this.props,\n        duration = _this$props3.duration,\n        loop = _this$props3.loop,\n        time = _this$props3.time,\n        onFinish = _this$props3.onFinish,\n        onTimeUpdate = _this$props3.onTimeUpdate,\n        onStart = _this$props3.onStart;\n    var startTime = this.state.startTime;\n    var nextTime = Date.now() - startTime;\n    this.setState({\n      time: nextTime\n    }, function () {\n      onTimeUpdate({\n        duration: duration,\n        progress: _this3.getProgress(nextTime),\n        time: nextTime\n      });\n\n      if (duration !== null && nextTime >= duration) {\n        onFinish({\n          duration: duration,\n          progress: _this3.getProgress(nextTime),\n          time: nextTime\n        });\n\n        if (!loop) {\n          cancelAnimationFrame(_this3.animationFrame);\n          return;\n        }\n\n        nextTime = 0;\n        onStart({\n          duration: duration,\n          progress: 0,\n          time: nextTime\n        });\n\n        _this3.setState({\n          startTime: Date.now()\n        });\n      }\n\n      _this3.animationFrame = requestAnimationFrame(_this3.tick);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        component = _this$props4.component,\n        duration = _this$props4.duration;\n    var time = this.state.time;\n    var progress = duration && time ? time / duration : 0;\n    var clonedChildren = React.Children.toArray(children).map(function (child, childIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        duration: duration,\n        time: time,\n        progress: progress\n      });\n    });\n    return /*#__PURE__*/React.createElement(component, _objectSpread({}, cleanProps(this.props)), clonedChildren);\n  };\n\n  return TimerWrapper;\n}(Component);\n\nTimerWrapper.propTypes = {\n  active: PropTypes.bool,\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  duration: PropTypes.number,\n  loop: PropTypes.bool,\n  time: PropTypes.number,\n  onFinish: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onStart: PropTypes.func\n};\nTimerWrapper.defaultProps = {\n  active: false,\n  component: 'div',\n  duration: 10000,\n  loop: false,\n  time: 0,\n  onFinish: function onFinish() {},\n  onStart: function onStart() {},\n  onStop: function onStop() {},\n  onTimeUpdate: function onTimeUpdate() {}\n};\nexport default TimerWrapper;","map":{"version":3,"sources":["/Users/helene/Desktop/Projects/mico-react/node_modules/react-timer-wrapper/es/index.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","React","Component","PropTypes","cleanProps","TimerWrapper","_Component","props","_this","call","state","duration","startTime","active","Date","now","time","tick","bind","_proto","componentDidMount","_this$state","_this$props","onStart","progress","getProgress","animationFrame","requestAnimationFrame","componentDidUpdate","prevProps","_this2","_this$props2","onStop","timeDiff","setState","nextTime","cancelAnimationFrame","componentWillUnmount","Math","max","min","_this3","_this$props3","loop","onFinish","onTimeUpdate","render","_this$props4","children","component","clonedChildren","Children","toArray","map","child","childIndex","cloneElement","createElement","propTypes","bool","oneOfType","func","string","number","defaultProps"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cleanProps from 'clean-react-props';\n\nvar TimerWrapper = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TimerWrapper, _Component);\n\n  function TimerWrapper(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      duration: props.duration,\n      startTime: props.active ? Date.now() - props.time : null,\n      time: props.time\n    };\n    _this.tick = _this.tick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TimerWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$state = this.state,\n        duration = _this$state.duration,\n        startTime = _this$state.startTime,\n        time = _this$state.time;\n    var _this$props = this.props,\n        active = _this$props.active,\n        onStart = _this$props.onStart;\n\n    if (active) {\n      onStart({\n        duration: duration,\n        progress: this.getProgress(time),\n        time: time\n      });\n      this.animationFrame = requestAnimationFrame(this.tick);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        active = _this$props2.active,\n        duration = _this$props2.duration,\n        time = _this$props2.time,\n        onStart = _this$props2.onStart,\n        onStop = _this$props2.onStop;\n\n    if (prevProps.active === active && prevProps.time !== time && time !== this.state.time) {\n      var timeDiff = this.state.time - time;\n      this.setState({\n        startTime: this.state.startTime + timeDiff,\n        time: this.state.time + timeDiff\n      });\n      return;\n    }\n\n    if (prevProps.active !== active) {\n      switch (active) {\n        case true:\n          var nextTime = duration !== null && this.state.time >= duration ? 0 : this.state.time;\n          this.setState({\n            startTime: Date.now() - nextTime,\n            time: nextTime\n          }, function () {\n            onStart({\n              duration: duration,\n              progress: _this2.getProgress(nextTime),\n              time: nextTime\n            });\n            _this2.animationFrame = requestAnimationFrame(_this2.tick);\n          });\n          break;\n\n        case false:\n          cancelAnimationFrame(this.animationFrame);\n          onStop({\n            duration: duration,\n            progress: this.getProgress(this.state.time),\n            time: this.state.time\n          });\n          break;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    cancelAnimationFrame(this.animationFrame);\n  };\n\n  _proto.getProgress = function getProgress(time) {\n    var duration = this.state.duration;\n\n    if (!duration) {\n      return 0;\n    }\n\n    return Math.max(0, Math.min(1, time / duration));\n  };\n\n  _proto.tick = function tick() {\n    var _this3 = this;\n\n    var _this$props3 = this.props,\n        duration = _this$props3.duration,\n        loop = _this$props3.loop,\n        time = _this$props3.time,\n        onFinish = _this$props3.onFinish,\n        onTimeUpdate = _this$props3.onTimeUpdate,\n        onStart = _this$props3.onStart;\n    var startTime = this.state.startTime;\n    var nextTime = Date.now() - startTime;\n    this.setState({\n      time: nextTime\n    }, function () {\n      onTimeUpdate({\n        duration: duration,\n        progress: _this3.getProgress(nextTime),\n        time: nextTime\n      });\n\n      if (duration !== null && nextTime >= duration) {\n        onFinish({\n          duration: duration,\n          progress: _this3.getProgress(nextTime),\n          time: nextTime\n        });\n\n        if (!loop) {\n          cancelAnimationFrame(_this3.animationFrame);\n          return;\n        }\n\n        nextTime = 0;\n        onStart({\n          duration: duration,\n          progress: 0,\n          time: nextTime\n        });\n\n        _this3.setState({\n          startTime: Date.now()\n        });\n      }\n\n      _this3.animationFrame = requestAnimationFrame(_this3.tick);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        component = _this$props4.component,\n        duration = _this$props4.duration;\n    var time = this.state.time;\n    var progress = duration && time ? time / duration : 0;\n    var clonedChildren = React.Children.toArray(children).map(function (child, childIndex) {\n      return /*#__PURE__*/React.cloneElement(child, {\n        duration: duration,\n        time: time,\n        progress: progress\n      });\n    });\n    return /*#__PURE__*/React.createElement(component, _objectSpread({}, cleanProps(this.props)), clonedChildren);\n  };\n\n  return TimerWrapper;\n}(Component);\n\nTimerWrapper.propTypes = {\n  active: PropTypes.bool,\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  duration: PropTypes.number,\n  loop: PropTypes.bool,\n  time: PropTypes.number,\n  onFinish: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onStart: PropTypes.func\n};\nTimerWrapper.defaultProps = {\n  active: false,\n  component: 'div',\n  duration: 10000,\n  loop: false,\n  time: 0,\n  onFinish: function onFinish() {},\n  onStart: function onStart() {},\n  onStop: function onStop() {},\n  onTimeUpdate: function onTimeUpdate() {}\n};\nexport default TimerWrapper;"]},"metadata":{},"sourceType":"module"}